"use strict";require(["esri/arcgis/utils","esri/request","esri/arcgis/OAuthInfo","esri/arcgis/Portal","esri/IdentityManager","esri/geometry/Point","esri/geometry/Multipoint","esri/SpatialReference","esri/geometry/screenUtils","esri/tasks/IdentifyTask","esri/tasks/IdentifyParameters","esri/layers/LayerDrawingOptions","esri/renderers/SimpleRenderer","esri/renderers/ClassBreaksRenderer","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/Color","dojo/_base/connect","dojo/domReady!"],function(g,h,j,l,m,n,o,p,q,r,t,u,v,w,y,z,A,B,C){$(document).ready(function(){"use strict";function D(ga){return ga.split(" ").map(function(ha){return ha=ha.toLowerCase(),ha.charAt(0).toUpperCase()+ha.slice(1)}).join(" ")}var F="https://utility.arcgis.com/usrsvcs/servers/141efcbd82fd4c129f5b784c2bc85229/rest/services/LiveFeeds/Wildfire_Activity/MapServer",I="Active_Fire_Report",J=2,K="AREA_",L="PER_CONT",M="FIRE_NAME",N="START_DATE",O="START_DATE_FORMATTED",S="INTERNALID",W={"default":[{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyB17.png",type:"picturemarkersymbol",height:15,width:15},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyB17.png",type:"picturemarkersymbol",height:25,width:25},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyB17.png",type:"picturemarkersymbol",height:35,width:35},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyB17.png",type:"picturemarkersymbol",height:45,width:45},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyB17.png",type:"picturemarkersymbol",height:55,width:55}],background:[{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyC1.png",type:"picturemarkersymbol",height:25,width:25},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyC1.png",type:"picturemarkersymbol",height:35,width:35},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyC1.png",type:"picturemarkersymbol",height:45,width:45},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyC1.png",type:"picturemarkersymbol",height:55,width:55},{url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyC1.png",type:"picturemarkersymbol",height:65,width:65}]},X={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},aa=function(){var ga=this;this.observers=[],this.subscribe=function(ha){ga.observers.push(ha)},this.unsubscribe=function(ha){ga.observers=ga.observers.filter(function(ia){return ia!==ha})},this.notify=function(ha){ga.observers.forEach(function(ia){return ia(ha)})}},ba=new function Y(){var ga=this;this.name="",this.extent=null,this.isInactiveFiresVisible=!1,this.affectedAreaRendererBreaks=[],this.setName=function(){var ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"";ga.name=ha},this.setExtent=function(){var ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;ga.extent=ha},this.setIsInactiveFiresVisible=function(){var ha=0<arguments.length&&arguments[0]!==void 0&&arguments[0];ga.isInactiveFiresVisible=ha},this.setAffectedAreaRendererBreaks=function(){var ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];ga.affectedAreaRendererBreaks=ha.map(function(ia,ja){return 0===ja&&(ia[0]=0),{breakInfo:ia,isVisible:!0}})},this.setAffectedAreaRendererVisibilityByIndex=function(){var ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:-1,ia=arguments[1];-1!==ha&&(ga.affectedAreaRendererBreaks[ha].isVisible=ia)},this.getAffectedAreaRendererBreaks=function(){return ga.affectedAreaRendererBreaks},this.getWhereClause=function(){var ia=[L+" < 100"],ja=ga.affectedAreaRendererBreaks.filter(function(na){return!na.isVisible}).length;if(ja){var ka=ga.affectedAreaRendererBreaks.filter(function(na){return na.isVisible}),la=0<ka.length?ka.map(function(na){var pa=na.breakInfo[0],qa=na.breakInfo[1];return"( "+K+" > "+pa+" AND "+K+" <= "+qa+" )"}).join(" OR "):K+" = -1 ";ia.push(la)}if(ga.name){var ma=M+" = '"+ga.name+"'";ia.push(ma)}return ia=ia.map(function(na){return"("+na+")"}),ia.join(" AND ")},this.getQueryParams=function(){var ha=0<arguments.length&&arguments[0]!==void 0&&arguments[0],ia=ga.getWhereClause(),ja={f:"json",outFields:"*",where:ia,returnGeometry:ha};if(ga.extent){var ka=JSON.stringify(ga.extent.toJson());ja.geometry=ka,ja.geometryType="esriGeometryEnvelope"}return ja},this.getRendererBreakIndex=function(ha){ha=+ha;var ia=-1;return ga.affectedAreaRendererBreaks.forEach(function(ja,ka){var la=ja.breakInfo[1],ma=ja.breakInfo[0];ha>ma&&ha<=la&&(ia=ka)}),ia}},ca=new function Z(){var ga=this;this.map=null,this.identifyTask=null,this.identifyParams=null,this.operationalLayers=[],this.allWildfires=[],this.allWildfiresLookupTable={},this.wildfireClassBreakRendererInfo=null,this.startUp=function(){var ha=this;this.generateClassBreakRendererInfo(K,function(ia){ha.setWildfireClassBreakRendererInfo(ia),ha._initWebMapByID("60f04046d1dc4cf7a8ff66729d872999")})},this.setMap=function(ha){this.map=ha},this.setAllWildfires=function(ha){this.allWildfires=ha.map(function(ia){var ja=moment(ia.attributes[N]).format("MMMM Do, YYYY");return ia.attributes[O]=ja,ia}),this.setAllWildfiresLookupTable()},this.setAllWildfiresLookupTable=function(){var ia={};this.allWildfires.forEach(function(ja){var ka=ja.attributes[S];ia[ka]=ja}),this.allWildfiresLookupTable=ia},this.getFireDataByID=function(ha){return this.allWildfiresLookupTable[ha]},this.setOperationalLayers=function(ha){var ia=this._getWebMapOperationalLayers(ha),ja=ia[0].layerObject.layerDrawingOptions[0].renderer.breaks;this.operationalLayers=ia,ba.setAffectedAreaRendererBreaks(ja),da.setFilterLabel(ja)},this._initWebMapByID=function(ha){var ia=this;g.createMap(ha,"mapDiv").then(function(ja){var ka=ja.map;C.disconnect(ja.clickEventHandle),ia.setMap(ka),ia.setMapEeventHandlers(ka),ia.setIdentifyTaskAndParams(ka),ia.setOperationalLayers(ja),ia.mapOnReadyHandler()})},this.mapOnReadyHandler=function(){var ia=this,ha=ba.getQueryParams(!0);this._queryWildfireData(ha,function(ja){ia.setAllWildfires(ja),ia.zoomToExtentOfAllFires()})},this.searchWildfire=function(){var la=this,ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},ia=arguments[1],ja=ba.getQueryParams();ia=ia||function ka(ma){var na=la.sortFiresByFieldName(ma,K);da.populateWildfires(na),la._setLayerDefinitionsForWildfireLayer(ja.where,na)},this._queryWildfireData(ja,ia)},this.sortFiresByFieldName=function(ha,ia){var ja=ha;return ja.sort(function(ka,la){return+la.attributes[ia]-+ka.attributes[ia]}),ja},this.setWildfireClassBreakRendererInfo=function(ha){this.wildfireClassBreakRendererInfo=ha},this.getListOfFires=function(ha){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",ja=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",ka=this.allWildfires;return ia&&(ka=ka.filter(function(la){return la.attributes[ia]===ja})),ha&&(ka=ka.map(function(la){return la.attributes[M]})),ka},this.getMatchedFireNames=function(){var ha=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",ia=ga.getListOfFires(!0),ja=new RegExp("^"+ha+".*$","i"),ka=[];return 2<=ha.length&&(ka=ia.filter(function(la){return la.match(ja)}).splice(0,5)),ka},this.getFireIdByName=function(ha){var ia=this.getListOfFires(!1,M,ha)[0];return ia?ia.attributes[S]:""},this.showInfoWindow=function(){var ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",ia=this.getFireDataByID(ha),ja=this.getFeatureGeometryInWgs84(ia),ka=this.convertGeomToScreenPoint(ja),la=ia.attributes["STATE"],ma=X[la]?X[la]:la,na=+ia.attributes["LATITUDE"].toFixed(2),oa=+ia.attributes["LONGITUDE"].toFixed(2);var pa="\n                    <div class='customized-popup-header'>\n                        <span class='font-size--3'>Start Date: "+ia.attributes[O]+"</span>\n                        <span class='js-close-info-window icon-ui-close avenir-bold cursor-pointer font-size--3 right'></span>\n                    </div>\n                    <div class='leader-quarter trailer-quarter'>\n                        <p class='trailer-quarter'> \n                            The "+ia.attributes[M]+" fire is estimated to be "+fa(ia.attributes[K])+" acres and <strong>"+ia.attributes[L]+"%</strong> contained.\n                        </p>\n                        <p class='font-size--3 trailer-quarter'>\n                            "+ma+" ("+na+", "+oa+")\n                        </p>\n                    <div>\n                ";this.map.infoWindow.setContent(pa),this.map.infoWindow.show(ja),da.setSquareReferenceBoxPosition(ka)},this.hideInforWindow=function(){this.map.infoWindow.hide(),da.setSquareReferenceBoxPosition(null)},this.zoomToFire=function(){var ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",ia=this.getFireDataByID(ha),ja=this.getFeatureGeometryInWgs84(ia);this.map.centerAndZoom(ja,9)},this._queryWildfireData=function(ha,ia){var la=h({url:F+"/0/query",content:ha,handleAs:"json",callbackParamName:"callback"});la.then(function(ma){ia(ma.features)},function(ma){console.log("Error: ",ma.message)})},this.getDefExpForFirePerimeterLayer=function(){var ha=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],ia=ha.length?ha.map(function(ja){var ka=ja.attributes[M].replace("'"," ");return M+" = '"+ka+"'"}).join(" OR "):M+" = ''";return ia},this._setLayerDefinitionsForWildfireLayer=function(ha,ia){var ka=this,ja=[ha];this.operationalLayers.forEach(function(la){if(la.title===I){var ma=ka.getDefExpForFirePerimeterLayer(ia);ja[J]=ma}la.layerObject.setLayerDefinitions(ja)})},this._getWebMapOperationalLayers=function(ha){var ja=this,ia=ha.itemInfo.itemData.operationalLayers.filter(function(ka){return"ArcGISMapServiceLayer"===ka.layerType});return ia.forEach(function(ka){ja.setLayerDrawingOptions(ka)}),ia},this.getWildfireLayerRendererByTitle=function(ha){var ia=JSON.parse(JSON.stringify(this.wildfireClassBreakRendererInfo)),ja=ha===I?W["default"]:W.background;return ia.classBreakInfos=ia.classBreakInfos.map(function(ka,la){var ma=new y(ja[la]);return ka.symbol=ma.toJson(),ka}),new w(ia)},this.getRendererForFirePerimeter=function(){var ha=new z(z.STYLE_SOLID,new A(A.STYLE_SOLID,new B([103,0,67,0.9]),1),new B([103,0,67,0.4])),ia=new v(ha);return ia},this.setLayerDrawingOptions=function(ha){var ia=ha.layerObject,ja=ha.title,ka=ja===I?.75:.5,la=[],ma=this.getLayerDrawingOption(ja);if(la[0]=ma,ja===I){var na=this.getLayerDrawingOption(ja,J);la[J]=na}ia.setLayerDrawingOptions(la),ia.setOpacity(ka)},this.getLayerDrawingOption=function(ha){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,ja=new u;return ja.renderer=0===ia?ga.getWildfireLayerRendererByTitle(ha):ga.getRendererForFirePerimeter(),ja},this.zoomToExtentOfAllFires=function(){var ha=this.allWildfires.map(function(ja){return[ja.geometry.x,ja.geometry.y]}),ia=new o(new p({wkid:102100}));ia.points=ha,this.map.setExtent(ia.getExtent(),!0)},this.execIdentifyTask=function(ha){var ia=this.identifyTaskOnSuccessHandler;this.identifyParams.geometry=ha,this.identifyParams.mapExtent=this.map.extent,this.identifyTask.execute(this.identifyParams,ia)},this.identifyTaskOnSuccessHandler=function(ha){if(ha.length){var ia=ha[0].value,ja=ga.getFireIdByName(ia);ga.showInfoWindow(ja)}},this.setIdentifyTaskAndParams=function(ha){var ia=new t;ia.tolerance=8,ia.returnGeometry=!1,ia.layerIds=[0],ia.width=ha.width,ia.height=ha.height,this.identifyParams=ia,this.identifyTask=new r(F)},this.setMapEeventHandlers=function(ha){var ia=this;ha.on("click",function(ja){ia.hideInforWindow(),ia.execIdentifyTask(ja.mapPoint)}),ha.on("extent-change",function(ja){ia.hideInforWindow(),ba.setExtent(ja.extent),ia.searchWildfire()})},this.generateClassBreakRendererInfo=function(ha,ia){var la={classificationDef:JSON.stringify({type:"classBreaksDef",classificationField:ha,classificationMethod:"esriClassifyNaturalBreaks",breakCount:5}),layer:JSON.stringify({source:{type:"mapLayer",mapLayerId:0}}),f:"json",where:""},ma=h({url:F+"/dynamicLayer/generateRenderer",content:la,handleAs:"json"});ma.then(function(na){ia(na)},function(na){console.log("Error: ",na.message)})},this.getFeatureGeometryInWgs84=function(ha){return new n({x:ha.attributes.LONGITUDE,y:ha.attributes.LATITUDE,spatialReference:{wkid:4326}})},this.convertGeomToScreenPoint=function(ha){var ia=q.toScreenPoint(ga.map.extent,ga.map.width,ga.map.height,ha);return ia},this.startUp()},da=new function _(){var ga=$(".val-holder-num-of-fires"),ha=$(".fire-name-search-input"),ia=$(".square-reference-box");this.wildfireGrids=null,this.wildfireTimeline=null,this.fireNameDropdownMenu=null,this.fireDataOberver=null,this.fireSummaryInfoVisibilityOberver=null,this.init=function(){this.wildfireGrids=new ka("wildfire-grid-container"),this.wildfireTimeline=new ja("wildfire-timeline-container"),this.fireNameDropdownMenu=new la("fire-name-dropdown-menu"),this.initFireDataObserser(),this.initFireSummaryInfoVisibilityOberver()},this.initFireDataObserser=function(){this.fireDataOberver=new aa,this.fireDataOberver.subscribe(this.wildfireGrids.populate),this.fireDataOberver.subscribe(this.wildfireTimeline.populate),this.fireDataOberver.subscribe(this.updateNumOfFiresVal)},this.populateWildfires=function(){var na=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];this.fireDataOberver.notify(na)},this.updateNumOfFiresVal=function(){var na=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];ga.text(na.length)},this.initFireSummaryInfoVisibilityOberver=function(){this.fireSummaryInfoVisibilityOberver=new aa,this.fireSummaryInfoVisibilityOberver.subscribe(this.wildfireGrids.toggle),this.fireSummaryInfoVisibilityOberver.subscribe(this.wildfireTimeline.toggle)},this.toggleFireSummaryInfo=function(na){this.fireSummaryInfoVisibilityOberver.notify(na)},this.setFilterLabel=function(){var na=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];na.forEach(function(oa,pa){var qa=ea(+oa[1]),ra=$(".filter-wrap[data-filter-index=\""+pa+"\"]").find(".filter-label");ra.text(qa)})},this.setSquareReferenceBoxPosition=function(na){if(!na)ia.addClass("hide");else{var oa=ia.width()/2;ia.css("top",na.y-oa),ia.css("left",na.x-oa),ia.removeClass("hide")}};var ja=function(na){var oa=$("#"+na),pa=function(){var ra=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],sa={},ta=[];return ra.sort(function(ua,va){return ua.attributes[N]-va.attributes[N]}),ra.forEach(function(ua){var va=ua.attributes[N];sa[va]?sa[va].fires.push(ua):(sa[va]={startDate:va,fires:[ua],isFirstItemInMonth:!1},ta.push(va))}),ra=ta.map(function(ua,va){var wa=ta[va-1],xa=qa(ua,wa);return xa&&(sa[ua].isFirstItemInMonth=!0),sa[ua]}),ra},qa=function(ra,sa){return ra=new Date(ra),sa=new Date(sa),ra&&sa&&ra.getMonth()!==sa.getMonth()};this.toggle=function(ra){ra===na?oa.removeClass("hide"):oa.addClass("hide")},this.populate=function(){var ra=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];ra=pa(ra);var sa=ra.map(function(ta){var va=moment(ta.startDate).format("MMM Do"),wa=moment(ta.startDate).format("MMMM"),ya=ta.fires.map(function(Aa){var Ba=Aa.attributes[L],Ca=Aa.attributes[M],Da=Aa.attributes[K],Ea=ba.getRendererBreakIndex(Da),Fa=Aa.attributes[S],Ga="\n                                <div class='trailer-1 fire-info'>\n                                    <div class='inline-block font-size--3 padding-left-half margin-right-half'><span class='cursor-pointer js-show-info-window js-zoom-to-fire' data-fire-id=\""+Fa+"\"><strong>"+D(Ca)+" Fire</strong>  - "+Ba+"% contained</span></div>\n                                    <div class=\"legend-icon legend-class-"+Ea+"\"></div>\n                                </div>\n                            ";return Ga}).join(""),za="\n                            "+(ta.isFirstItemInMonth?"\n                            <div class='timeline-month-title text-center'>\n                                <div class='padding-leader-quarter padding-trailer-quarter '>\n                                    <span class'avenir-bold'>"+wa+"</span>\n                                </div>\n                            </div>\n                        ":"")+"\n                            <div class='timeline-item'>\n                                <div class='date-info font-size--2'>"+va+"</div>\n                                <div class='fire-info-wrap text-right'>\n                                    "+ya+"\n                                </div>\n                            </div>\n                        ";return za}).join("");oa.html(sa)}},ka=function(na){var oa=$("#"+na);this.toggle=function(pa){pa===na?oa.removeClass("hide"):oa.addClass("hide")},this.populate=function(){var pa=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],qa=pa.map(function(ra){var sa=ra.attributes[L],ta=ra.attributes[M],ua=ra.attributes[K],va=ba.getRendererBreakIndex(ua),wa=ra.attributes[S];return"\n                            <div class=\"js-show-info-window block trailer-half js-zoom-to-fire\" data-fire-id=\""+wa+"\">\n                                <div class=\"legend-icon legend-class-"+va+"\">\n                                    <div class='bottom-pct-indicator'>\n                                        <div class='highlight-bar' style=\"width: "+sa+"%;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        "}).join("");oa.html(qa)}},la=function(na){var qa=this,oa=$("#"+na),pa=oa.parent();this.populate=function(ra){ra=ra||ca.getListOfFires(!0);var sa=ra.map(function(ta){return"<div class='suggestion-item js-set-suggested-item' data-fire-name=\""+ta+"\"><span class='font-size--2'>"+ta+"</span></div>"}).join("");oa.html(sa)},this.getCountOfDropdownMenuItems=function(){return oa.children().length},this.show=function(){oa.removeClass("hide"),qa.toggleIsDropdownVisible(!0)},this.hide=function(){oa.addClass("hide"),qa.toggleIsDropdownVisible(!1)},this.toggleDropdownMenu=function(){oa.toggleClass("hide");var ra=!oa.hasClass("hide"),sa=!!qa.getCountOfDropdownMenuItems();ra&&!sa&&qa.populate(),qa.toggleIsDropdownVisible(ra)},this.setSelectedItem=function(){var ra=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"";pa.find(".fire-name-search-input").val(ra);qa.toggleIsSearchInputFilled(!!ra),qa.hide(),ba.setName(ra),ca.searchWildfire()},this.toggleIsDropdownVisible=function(ra){ra?pa.addClass("is-dropdown-menu-visible"):pa.removeClass("is-dropdown-menu-visible")},this.toggleIsSearchInputFilled=function(){var ra=0<arguments.length&&arguments[0]!==void 0&&arguments[0];ra?pa.addClass("is-search-input-filled"):pa.removeClass("is-search-input-filled")}},ma=function(){var na=$("body");na.on("click",".js-zoom-to-fire",function(){var oa=$(this).attr("data-fire-id");ca.zoomToFire(oa)}),na.on("mouseenter",".js-show-info-window",function(){var oa=$(this).attr("data-fire-id");ca.showInfoWindow(oa)}),na.on("mouseleave",".js-show-info-window",function(){ca.hideInforWindow()}),na.on("click",".js-close-info-window",function(){ca.hideInforWindow()}),na.on("click",".js-affected-area-filter",function(){var oa=$(this);oa.toggleClass("checked");var pa=+oa.attr("data-filter-index"),qa=oa.hasClass("checked");ba.setAffectedAreaRendererVisibilityByIndex(pa,qa),ca.searchWildfire()}),na.on("click",".js-toggle-fire-summary-info-container",function(){var oa=$(this),pa=oa.attr("data-target-container");oa.siblings().removeClass("is-active"),oa.addClass("is-active"),da.toggleFireSummaryInfo(pa)}),na.on("click",".toggle-suggestion-list-btn",function(){da.fireNameDropdownMenu.toggleDropdownMenu()}),na.on("click",".js-set-suggested-item",function(){var oa=$(this).attr("data-fire-name");da.fireNameDropdownMenu.setSelectedItem(oa)}),na.on("click",".js-clear-suggested-item",function(){da.fireNameDropdownMenu.setSelectedItem(null),da.fireNameDropdownMenu.populate()}),ha.on("keyup",function(){var oa=$(this).val(),pa=ca.getMatchedFireNames(oa);da.fireNameDropdownMenu.populate(pa),oa?da.fireNameDropdownMenu.toggleIsSearchInputFilled(!0):da.fireNameDropdownMenu.toggleIsSearchInputFilled(!1),pa.length?da.fireNameDropdownMenu.show():da.fireNameDropdownMenu.hide()})}();this.init()},ea=function(ga,ha){if(null===ga)return null;if(0===ga)return"0";ha=!ha||0>ha?0:ha,ha=1e4<ga?0:1;var ia=ga.toPrecision(2).split("e"),ja=1===ia.length?0:Math.floor(Math.min(ia[1].slice(1),14)/3),ka=1>ja?ga.toFixed(0+ha):(ga/Math.pow(10,3*ja)).toFixed(ha),la=0>ka?ka:Math.abs(ka),ma=la+["","K","M","B","T"][ja];return ma},fa=function(ga){return ga.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}})}),console.log("Love the app? The source code is available on GitHub:","https://github.com/vannizhang/wildfire-viz-app");